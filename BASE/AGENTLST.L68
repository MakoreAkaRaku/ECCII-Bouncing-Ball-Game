0000166A Starting Address
Assembler used: EASy68K Editor/Assembler v5.15.04
Created On: 02/01/2021 11:11:13

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE    : AGENT LIST
00000000                             3  ; AUTHOR   : ANTONI BURGUERA
00000000                             4  ; COMMENTS : EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
00000000                             5  ;              +0 - LONG : UPDATE SUBROUTINE POINTER
00000000                             6  ;              +4 - LONG : PLOT SUBROUTINE POINTER
00000000                             7  ;              +8:END    : DATA (AGENT SPECIFIC)
00000000                             8  ; HISTORY  : XX-XXX-201X - CREATION
00000000                             9  ;            11-OCT-2020 - MINOR CHANGES
00000000                            10  ; =============================================================================
00000000                            11  
00000000                            12  ; -----------------------------------------------------------------------------
00000000                            13  AGLADD
00000000                            14  ; CREATES A NEW AGENT
00000000                            15  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
00000000                            16  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
00000000                            17  ;            A3 - POINTER TO AGENT PLOT FUNCTION
00000000                            18  ;            D0 - AGENT TYPE (USED AS OWNED BY DMM)
00000000                            19  ;            D1 - AGENT INITIALIZATION PARAMETER 1
00000000                            20  ;            D2 - AGENT INITIALIZATION PARAMETER 2
00000000                            21  ;            D3 - AGENT INITIALIZATION PARAMETER 3
00000000                            22  ; OUTPUT   - NONE
00000000                            23  ; MODIFIES - NONE
00000000                            24  ; -----------------------------------------------------------------------------
00000000  2F08                      25              MOVE.L  A0,-(A7)
Line 26 ERROR: Undefined symbol
00000002  4EB9 004DBB8E             26              JSR     DMMALLOC
00000008  B1FC 00000000             27              CMP.L   #0,A0
0000000E  6700 0008                 28              BEQ     .END
00000012  20CA                      29              MOVE.L  A2,(A0)+
00000014  20CB                      30              MOVE.L  A3,(A0)+
00000016  4E91                      31              JSR     (A1)
00000018  205F                      32  .END        MOVE.L  (A7)+,A0
0000001A  4E75                      33              RTS
0000001C                            34  
0000001C                            35  ; -----------------------------------------------------------------------------
0000001C                            36  AGLUPD
0000001C                            37  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
0000001C                            38  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
0000001C                            39  ; INPUT    - NONE
0000001C                            40  ; OUTPUT   - NONE
0000001C                            41  ; MODIFIES - NONE
0000001C                            42  ; -----------------------------------------------------------------------------
0000001C  48E7 00C0                 43              MOVEM.L A0-A1,-(A7)
Line 44 ERROR: Undefined symbol
00000020  4EB9 004DBB8E             44              JSR     DMMFIRST
00000026  B1FC 00000000             45  .LOOP       CMP.L   #0,A0
0000002C  6700 0010                 46              BEQ     .END
00000030  2250                      47              MOVE.L  (A0),A1
00000032  5088                      48              ADD.L   #8,A0
00000034  4E91                      49              JSR     (A1)
Line 50 ERROR: Undefined symbol
00000036  4EB9 004DBB8E             50              JSR     DMMNEXT
0000003C  60E8                      51              BRA     .LOOP
0000003E  4CDF 0300                 52  .END        MOVEM.L (A7)+,A0-A1
00000042  4E75                      53              RTS
00000044                            54  
00000044                            55  ; -----------------------------------------------------------------------------
00000044                            56  AGLPLOT
00000044                            57  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00000044                            58  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
00000044                            59  ; INPUT    - NONE
00000044                            60  ; OUTPUT   - NONE
00000044                            61  ; MODIFIES - NONE
00000044                            62  ; -----------------------------------------------------------------------------
00000044  48E7 00C0                 63              MOVEM.L A0-A1,-(A7)
Line 64 ERROR: Undefined symbol
00000048  4EB9 004DBB8E             64              JSR     DMMFIRST
0000004E  B1FC 00000000             65  .LOOP       CMP.L   #0,A0
00000054  6700 0012                 66              BEQ     .END
00000058  2268 0004                 67              MOVE.L  4(A0),A1
0000005C  5088                      68              ADD.L   #8,A0
0000005E  4E91                      69              JSR     (A1)
Line 70 ERROR: Undefined symbol
00000060  4EB9 004DBB8E             70              JSR     DMMNEXT
00000066  60E6                      71              BRA     .LOOP
00000068  4CDF 0300                 72  .END        MOVEM.L (A7)+,A0-A1
0000006C  4E75                      73              RTS
0000006E                            74  
0000006E                            75  ; -----------------------------------------------------------------------------
Line 76 ERROR: Undefined symbol
0000006E                            76  AGLKILL     EQU     DMMFREE
0000006E                            77  ; KILLS THE AGENT BY RELEASING ITS MEMORY
0000006E                            78  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
0000006E                            79  ; OUTPUT   - NONE
0000006E                            80  ; MODIFIES - NONE
0000006E                            81  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
0000006E                            82  ; -----------------------------------------------------------------------------
Line 83 WARNING: END directive missing, starting address not set

6 errors detected
1 warning generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              0
AGLADD:END          18
AGLPLOT             44
AGLPLOT:END         68
AGLPLOT:LOOP        4E
AGLUPD              1C
AGLUPD:END          3E
AGLUPD:LOOP         26
